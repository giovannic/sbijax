# SVEIR Flow Matching Configuration
# Configuration for SVEIR epidemiological model with functional random variables

defaults:
  - sfmpe: indexed
  - fmpe: default
  - _self_

# SEIR model parameters
n_timesteps: 365    # Total simulation timesteps
n_warmup: 730       # Warmup period to exclude initial epidemic dynamics
n_obs: 5            # Number of observations to sample
n_sites: 50

# ODE simulation parameters
dt: 1.0            # Time step size (days)
population: 10000  # Population size
I0_prop: 0.001     # Initial infection proportion

# N prior
n_prior_samples: 1000

# Training parameters  
n_simulations: 1000  # Number of simulations per round
n_rounds: 1         # Number of training rounds  
n_epochs: 100       # Number of epochs per round

# Model hyperparameters
n_post_samples: 1000  # Number of posterior samples

# F_in_sample
f_in_sample: "prior" # Options: "observed", "prior"

# Training configuration
training:
  learning_rate: 3e-4
  batch_size_fraction: 0.1  # Fraction of n_simulations for batch size

# Analysis parameters
analysis:
  n_cal: 1000        # Number of calibration samples
  n_cal_epochs: 100  # Number of calibration epochs
  n_null: 100        # Number of null classifiers
  classifier:
    latent_dim: 128
    n_layers: 2

# Inference configuration - selective parameter sampling
inference:
  sample_params: null  # List of parameters to sample, e.g. ["beta_0"] for beta-0 only
                       # If null, samples all parameters (default behavior)
                       # Available params: ["beta_0", "alpha", "sigma", "A", "T_season", "phi"]

# Random seed
seed: 42

# Increase estimator capacity for big inference problem
sfmpe:
  transformer:
    latent_dim: 128

fmpe:
  nn:
    latent_dim: 128
